<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>login & registration</title>
  <link rel="stylesheet" href="/css/login.css">
</head>
<body>
  <div class="hero">
    <div class="form-box">
      <div class="button-box">
        <div id="btn"></div>
        <button type="button" class="toggle-btn" onclick="login()">Login</button>
        <button type="button" class="toggle-btn" onclick="register()">Register</button>
      </div>
      <!-- <div class="social-icons">
        <img src = "img/fb.png">
        <img src = "img/tw.png">
        <img src = "img/gp.png">
    </div> -->
    <form id="login"class="input-group" action="/login" method="post">
      <input type="text" class="input-field" placeholder="User id" required name="uname">
      <input type="text" class="input-field" placeholder="Password" required name="pswd">
      <input type="checkbox" class="check-box"><span>Remember password</span>
      <button type="submit" class="submit-btn">Login</button>
    </form>
    <form id="register" class="input-group" method="post">
      <input type="text" name="userid" class="input-field" placeholder="User id" id="user_id" required>
      <input type="email" name="email" class="input-field" placeholder="Email id" id="email_id" required>
      <input type="text" name="pwd" class="input-field" placeholder="Password" id="password_id" required>
      <input type="checkbox" class="check-box"><span>I agree to terms & conditions</span>
      <button type="submit" class="submit-btn" onclick="ss()" >Register</button>
    </form>
    
      

    </div>

  </div>
  <script>
    
    function ss(){
      //const form = document.getElementById("register");

      data = {
        'user_id':document.getElementById('user_id').value,
        'email':document.getElementById('email_id').value,
        'pwd':document.getElementById('password_id').value,
      }
      fetch('http://localhost:8000/sendData', {
        method: 'POST', // or 'PUT'
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })
      .then(response => response.json())
      .then(data => {
        console.log('Success:', data);
        window.location.href="/"
      })
      .catch((error) => {
        console.error('Error:', error);
      });
    
  }
    function register(){
      var x = document.getElementById("login");
      var y = document.getElementById("register");
      var z = document.getElementById("btn");
      x.style.left = "-400px";
      y.style.left = "50px";
      z.style.left = "110px";
    }
    function login(){
      var x = document.getElementById("login");
      var y = document.getElementById("register");
      var z = document.getElementById("btn");
      x.style.left = "50px";
      y.style.left = "450px";
      z.style.left = "0";
    }

    // data to be sent to the POST request
     
  </script>
    
</body>
</html>